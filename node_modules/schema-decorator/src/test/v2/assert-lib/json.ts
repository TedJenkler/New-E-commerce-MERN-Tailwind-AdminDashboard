import * as sd from "../../../main/index";
import * as tape from "tape";
import * as myUtil from "../util";

tape(__filename + "-json-object-str", (t) => {
    myUtil.fail(t, sd.jsonObjectStr(), 1);
    myUtil.fail(t, sd.jsonObjectStr(), 0.5);
    myUtil.fail(t, sd.jsonObjectStr(), 0);
    myUtil.fail(t, sd.jsonObjectStr(), -0.5);
    myUtil.fail(t, sd.jsonObjectStr(), -1);
    myUtil.fail(t, sd.jsonObjectStr(), NaN);
    myUtil.fail(t, sd.jsonObjectStr(), Infinity);
    myUtil.fail(t, sd.jsonObjectStr(), -Infinity);
    myUtil.fail(t, sd.jsonObjectStr(), true);
    myUtil.fail(t, sd.jsonObjectStr(), false);
    myUtil.fail(t, sd.jsonObjectStr(), null);
    myUtil.fail(t, sd.jsonObjectStr(), undefined);
    myUtil.fail(t, sd.jsonObjectStr(), true);
    myUtil.fail(t, sd.jsonObjectStr(), new Date());
    myUtil.fail(t, sd.jsonObjectStr(), () => {});
    myUtil.fail(t, sd.jsonObjectStr(), []);
    myUtil.fail(t, sd.jsonObjectStr(), [1,2]);
    myUtil.fail(t, sd.jsonObjectStr(), "Hello, world");
    myUtil.fail(t, sd.jsonObjectStr(), "3.141");
    myUtil.fail(t, sd.jsonObjectStr(), "1");
    myUtil.fail(t, sd.jsonObjectStr(), "0.5");
    myUtil.fail(t, sd.jsonObjectStr(), "0");
    myUtil.fail(t, sd.jsonObjectStr(), "-0.5");
    myUtil.fail(t, sd.jsonObjectStr(), "-1");
    myUtil.fail(t, sd.jsonObjectStr(), {});
    myUtil.fail(t, sd.jsonObjectStr(), { x : 4 });
    myUtil.fail(t, sd.jsonObjectStr(), { x : [4, "hello"] });

    myUtil.fail(t, sd.jsonObjectStr(), JSON.stringify(1));
    myUtil.fail(t, sd.jsonObjectStr(), JSON.stringify(0.5));
    myUtil.fail(t, sd.jsonObjectStr(), JSON.stringify(0));
    myUtil.fail(t, sd.jsonObjectStr(), JSON.stringify(-0.5));
    myUtil.fail(t, sd.jsonObjectStr(), JSON.stringify(-1));
    myUtil.fail(t, sd.jsonObjectStr(), JSON.stringify(NaN));
    myUtil.fail(t, sd.jsonObjectStr(), JSON.stringify(Infinity));
    myUtil.fail(t, sd.jsonObjectStr(), JSON.stringify(-Infinity));
    myUtil.fail(t, sd.jsonObjectStr(), JSON.stringify(true));
    myUtil.fail(t, sd.jsonObjectStr(), JSON.stringify(false));
    myUtil.fail(t, sd.jsonObjectStr(), JSON.stringify(null));
    myUtil.fail(t, sd.jsonObjectStr(), JSON.stringify(undefined));
    myUtil.fail(t, sd.jsonObjectStr(), JSON.stringify(true));
    myUtil.fail(t, sd.jsonObjectStr(), JSON.stringify(new Date()));
    myUtil.fail(t, sd.jsonObjectStr(), JSON.stringify(() => {}));
    myUtil.fail(t, sd.jsonObjectStr(), JSON.stringify([]));
    myUtil.fail(t, sd.jsonObjectStr(), JSON.stringify([1,2]));
    myUtil.fail(t, sd.jsonObjectStr(), JSON.stringify("3.141"));
    myUtil.fail(t, sd.jsonObjectStr(), JSON.stringify("1"));
    myUtil.fail(t, sd.jsonObjectStr(), JSON.stringify("0.5"));
    myUtil.fail(t, sd.jsonObjectStr(), JSON.stringify("0"));
    myUtil.fail(t, sd.jsonObjectStr(), JSON.stringify("-0.5"));
    myUtil.fail(t, sd.jsonObjectStr(), JSON.stringify("-1"));
    myUtil.fail(t, sd.jsonObjectStr(), JSON.stringify("Hello, world"));
    myUtil.test(t, sd.jsonObjectStr(), JSON.stringify({}), JSON.stringify({}));
    myUtil.test(t, sd.jsonObjectStr(), JSON.stringify({ x : 4 }), JSON.stringify({ x : 4 }));
    myUtil.test(t, sd.jsonObjectStr(), JSON.stringify({ x : [4, "hello"] }), JSON.stringify({ x : [4, "hello"] }));

    t.end();
});

tape(__filename + "-json-object-to-str", (t) => {
    myUtil.fail(t, sd.jsonObjectToString(), 1);
    myUtil.fail(t, sd.jsonObjectToString(), 0.5);
    myUtil.fail(t, sd.jsonObjectToString(), 0);
    myUtil.fail(t, sd.jsonObjectToString(), -0.5);
    myUtil.fail(t, sd.jsonObjectToString(), -1);
    myUtil.fail(t, sd.jsonObjectToString(), NaN);
    myUtil.fail(t, sd.jsonObjectToString(), Infinity);
    myUtil.fail(t, sd.jsonObjectToString(), -Infinity);
    myUtil.fail(t, sd.jsonObjectToString(), true);
    myUtil.fail(t, sd.jsonObjectToString(), false);
    myUtil.fail(t, sd.jsonObjectToString(), null);
    myUtil.fail(t, sd.jsonObjectToString(), undefined);
    myUtil.fail(t, sd.jsonObjectToString(), true);
    myUtil.fail(t, sd.jsonObjectToString(), new Date());
    myUtil.fail(t, sd.jsonObjectToString(), () => {});
    myUtil.fail(t, sd.jsonObjectToString(), []);
    myUtil.fail(t, sd.jsonObjectToString(), [1,2]);
    myUtil.fail(t, sd.jsonObjectToString(), "3.141");
    myUtil.fail(t, sd.jsonObjectToString(), "1");
    myUtil.fail(t, sd.jsonObjectToString(), "0.5");
    myUtil.fail(t, sd.jsonObjectToString(), "0");
    myUtil.fail(t, sd.jsonObjectToString(), "-0.5");
    myUtil.fail(t, sd.jsonObjectToString(), "-1");
    myUtil.fail(t, sd.jsonObjectToString(), "Hello, world");
    myUtil.test(t, sd.jsonObjectToString(), {}, JSON.stringify({}));
    myUtil.test(t, sd.jsonObjectToString(), { x : 4 }, JSON.stringify({ x : 4 }));
    myUtil.test(t, sd.jsonObjectToString(), { x : [4, "hello"] }, JSON.stringify({ x : [4, "hello"] }));

    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify(1));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify(0.5));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify(0));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify(-0.5));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify(-1));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify(NaN));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify(Infinity));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify(-Infinity));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify(true));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify(false));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify(null));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify(undefined));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify(true));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify(new Date()));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify(() => {}));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify([]));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify([1,2]));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify("3.141"));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify("1"));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify("0.5"));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify("0"));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify("-0.5"));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify("-1"));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify("Hello, world"));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify({}));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify({ x : 4 }));
    myUtil.fail(t, sd.jsonObjectToString(), JSON.stringify({ x : [4, "hello"] }));

    t.end();
});

tape(__filename + "-json-object-to-str", (t) => {
    myUtil.fail(t, sd.jsonStringToObject(), 1);
    myUtil.fail(t, sd.jsonStringToObject(), 0.5);
    myUtil.fail(t, sd.jsonStringToObject(), 0);
    myUtil.fail(t, sd.jsonStringToObject(), -0.5);
    myUtil.fail(t, sd.jsonStringToObject(), -1);
    myUtil.fail(t, sd.jsonStringToObject(), NaN);
    myUtil.fail(t, sd.jsonStringToObject(), Infinity);
    myUtil.fail(t, sd.jsonStringToObject(), -Infinity);
    myUtil.fail(t, sd.jsonStringToObject(), true);
    myUtil.fail(t, sd.jsonStringToObject(), false);
    myUtil.fail(t, sd.jsonStringToObject(), null);
    myUtil.fail(t, sd.jsonStringToObject(), undefined);
    myUtil.fail(t, sd.jsonStringToObject(), true);
    myUtil.fail(t, sd.jsonStringToObject(), new Date());
    myUtil.fail(t, sd.jsonStringToObject(), () => {});
    myUtil.fail(t, sd.jsonStringToObject(), []);
    myUtil.fail(t, sd.jsonStringToObject(), [1,2]);
    myUtil.fail(t, sd.jsonStringToObject(), "3.141");
    myUtil.fail(t, sd.jsonStringToObject(), "1");
    myUtil.fail(t, sd.jsonStringToObject(), "0.5");
    myUtil.fail(t, sd.jsonStringToObject(), "0");
    myUtil.fail(t, sd.jsonStringToObject(), "-0.5");
    myUtil.fail(t, sd.jsonStringToObject(), "-1");
    myUtil.fail(t, sd.jsonStringToObject(), "Hello, world");
    myUtil.fail(t, sd.jsonStringToObject(), {});
    myUtil.fail(t, sd.jsonStringToObject(), { x : 4 });
    myUtil.fail(t, sd.jsonStringToObject(), { x : [4, "hello"] });

    myUtil.fail(t, sd.jsonStringToObject(), JSON.stringify(1));
    myUtil.fail(t, sd.jsonStringToObject(), JSON.stringify(0.5));
    myUtil.fail(t, sd.jsonStringToObject(), JSON.stringify(0));
    myUtil.fail(t, sd.jsonStringToObject(), JSON.stringify(-0.5));
    myUtil.fail(t, sd.jsonStringToObject(), JSON.stringify(-1));
    myUtil.fail(t, sd.jsonStringToObject(), JSON.stringify(NaN));
    myUtil.fail(t, sd.jsonStringToObject(), JSON.stringify(Infinity));
    myUtil.fail(t, sd.jsonStringToObject(), JSON.stringify(-Infinity));
    myUtil.fail(t, sd.jsonStringToObject(), JSON.stringify(true));
    myUtil.fail(t, sd.jsonStringToObject(), JSON.stringify(false));
    myUtil.fail(t, sd.jsonStringToObject(), JSON.stringify(null));
    myUtil.fail(t, sd.jsonStringToObject(), JSON.stringify(undefined));
    myUtil.fail(t, sd.jsonStringToObject(), JSON.stringify(true));
    myUtil.fail(t, sd.jsonStringToObject(), JSON.stringify(new Date()));
    myUtil.fail(t, sd.jsonStringToObject(), JSON.stringify(() => {}));
    myUtil.fail(t, sd.jsonStringToObject(), JSON.stringify([]));
    myUtil.fail(t, sd.jsonStringToObject(), JSON.stringify([1,2]));
    myUtil.fail(t, sd.jsonStringToObject(), JSON.stringify("3.141"));
    myUtil.fail(t, sd.jsonStringToObject(), JSON.stringify("1"));
    myUtil.fail(t, sd.jsonStringToObject(), JSON.stringify("0.5"));
    myUtil.fail(t, sd.jsonStringToObject(), JSON.stringify("0"));
    myUtil.fail(t, sd.jsonStringToObject(), JSON.stringify("-0.5"));
    myUtil.fail(t, sd.jsonStringToObject(), JSON.stringify("-1"));
    myUtil.fail(t, sd.jsonStringToObject(), JSON.stringify("Hello, world"));
    myUtil.test(t, sd.jsonStringToObject(), JSON.stringify({}), {});
    myUtil.test(t, sd.jsonStringToObject(), JSON.stringify({ x : 4 }), { x : 4 });
    myUtil.test(t, sd.jsonStringToObject(), JSON.stringify({ x : [4, "hello"] }), { x : [4, "hello"] });

    t.end();
});

tape(__filename + "-json-object", (t) => {
    myUtil.fail(t, sd.jsonObject(), 1);
    myUtil.fail(t, sd.jsonObject(), 0.5);
    myUtil.fail(t, sd.jsonObject(), 0);
    myUtil.fail(t, sd.jsonObject(), -0.5);
    myUtil.fail(t, sd.jsonObject(), -1);
    myUtil.fail(t, sd.jsonObject(), NaN);
    myUtil.fail(t, sd.jsonObject(), Infinity);
    myUtil.fail(t, sd.jsonObject(), -Infinity);
    myUtil.fail(t, sd.jsonObject(), true);
    myUtil.fail(t, sd.jsonObject(), false);
    myUtil.fail(t, sd.jsonObject(), null);
    myUtil.fail(t, sd.jsonObject(), undefined);
    myUtil.fail(t, sd.jsonObject(), true);
    myUtil.fail(t, sd.jsonObject(), new Date());
    myUtil.fail(t, sd.jsonObject(), () => {});
    myUtil.fail(t, sd.jsonObject(), []);
    myUtil.fail(t, sd.jsonObject(), [1,2]);
    myUtil.fail(t, sd.jsonObject(), "3.141");
    myUtil.fail(t, sd.jsonObject(), "1");
    myUtil.fail(t, sd.jsonObject(), "0.5");
    myUtil.fail(t, sd.jsonObject(), "0");
    myUtil.fail(t, sd.jsonObject(), "-0.5");
    myUtil.fail(t, sd.jsonObject(), "-1");
    myUtil.fail(t, sd.jsonObject(), "Hello, world");
    myUtil.test(t, sd.jsonObject(), {}, {});
    myUtil.test(t, sd.jsonObject(), { x : 4 }, { x : 4 });
    myUtil.test(t, sd.jsonObject(), { x : [4, "hello"] }, { x : [4, "hello"] });

    myUtil.fail(t, sd.jsonObject(), JSON.stringify(1));
    myUtil.fail(t, sd.jsonObject(), JSON.stringify(0.5));
    myUtil.fail(t, sd.jsonObject(), JSON.stringify(0));
    myUtil.fail(t, sd.jsonObject(), JSON.stringify(-0.5));
    myUtil.fail(t, sd.jsonObject(), JSON.stringify(-1));
    myUtil.fail(t, sd.jsonObject(), JSON.stringify(NaN));
    myUtil.fail(t, sd.jsonObject(), JSON.stringify(Infinity));
    myUtil.fail(t, sd.jsonObject(), JSON.stringify(-Infinity));
    myUtil.fail(t, sd.jsonObject(), JSON.stringify(true));
    myUtil.fail(t, sd.jsonObject(), JSON.stringify(false));
    myUtil.fail(t, sd.jsonObject(), JSON.stringify(null));
    myUtil.fail(t, sd.jsonObject(), JSON.stringify(undefined));
    myUtil.fail(t, sd.jsonObject(), JSON.stringify(true));
    myUtil.fail(t, sd.jsonObject(), JSON.stringify(new Date()));
    myUtil.fail(t, sd.jsonObject(), JSON.stringify(() => {}));
    myUtil.fail(t, sd.jsonObject(), JSON.stringify([]));
    myUtil.fail(t, sd.jsonObject(), JSON.stringify([1,2]));
    myUtil.fail(t, sd.jsonObject(), JSON.stringify("3.141"));
    myUtil.fail(t, sd.jsonObject(), JSON.stringify("1"));
    myUtil.fail(t, sd.jsonObject(), JSON.stringify("0.5"));
    myUtil.fail(t, sd.jsonObject(), JSON.stringify("0"));
    myUtil.fail(t, sd.jsonObject(), JSON.stringify("-0.5"));
    myUtil.fail(t, sd.jsonObject(), JSON.stringify("-1"));
    myUtil.fail(t, sd.jsonObject(), JSON.stringify("Hello, world"));
    myUtil.test(t, sd.jsonObject(), JSON.stringify({}), {});
    myUtil.test(t, sd.jsonObject(), JSON.stringify({ x : 4 }), { x : 4 });
    myUtil.test(t, sd.jsonObject(), JSON.stringify({ x : [4, "hello"] }), { x : [4, "hello"] });

    t.end();
});